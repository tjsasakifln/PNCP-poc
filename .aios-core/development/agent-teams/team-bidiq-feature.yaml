bundle:
  name: Team BidIQ Feature Complete
  icon: ðŸš€
  description: End-to-end feature development from story creation through deployment

agents:
  - pm                # Story creation and product management
  - architect         # Design decisions and impact analysis
  - dev               # Full-stack implementation (backend + frontend)
  - qa                # Testing and quality assurance
  - devops            # PR automation and deployment

workflows:
  - brownfield-fullstack.yaml

tasks:
  - create-next-story.md
  - architect-analyze-impact.md
  - dev-develop-story.md
  - qa-gate.md
  - github-devops-github-pr-automation.md

when_to_use:
  - New feature requests requiring backend + frontend
  - Complex multi-component features
  - Features requiring architectural decisions
  - Full-stack stories from planning through deployment
  - Production deployments and releases

quality_gates:
  pre_commit:
    trigger: Before commit
    agent: qa
    checks:
      - pytest --cov (â‰¥70% backend)
      - npm run lint (frontend)
      - npm run typecheck (frontend)
    threshold: Backend â‰¥70% coverage, no lint/type errors

  pre_merge:
    trigger: Before PR merge
    agent: qa
    checks:
      - pytest --cov --cov-report=html
      - npm test --coverage (â‰¥60%)
      - All tests passing
    threshold: Backend â‰¥70%, Frontend â‰¥60%, 100% tests passing

  pre_deployment:
    trigger: Before production deploy
    agent: devops
    checks:
      - All quality gates passing
      - Security scan clean
      - Rollback plan documented
    threshold: 0 CRITICAL issues, deployment approved

purpose: |
  Handles complete feature lifecycle from story creation through deployment:

  1. **Story Creation & Planning** (@pm):
     - Create well-defined stories in docs/stories/
     - Establish acceptance criteria
     - Estimate complexity and effort
     - Assign to squad members
     - Track progress and blockers

  2. **Architectural Review** (@architect):
     - Analyze impact on existing systems
     - Design API contracts and data flows
     - Identify database schema changes
     - Review performance implications
     - Document architectural decisions

  3. **Implementation** (@dev):
     - Backend: FastAPI endpoints, business logic, database
     - Frontend: React components, state management, API integration
     - Full-stack integration testing
     - Code review and self-testing
     - Documentation of changes

  4. **Quality Assurance** (@qa):
     - Test design and execution
     - Coverage validation (70% backend, 60% frontend)
     - Acceptance criteria verification
     - Edge case testing
     - Pre-deployment validation

  5. **Deployment** (@devops):
     - PR creation with full context
     - Automated code review
     - CI/CD pipeline execution
     - Production deployment
     - Post-deployment monitoring

feature_types: |
  This squad handles all BidIQ feature types:

  - **Search Enhancements**: Better filtering, advanced search options
  - **Integration Features**: New API integrations, third-party connections
  - **Reporting**: New report formats, custom exports
  - **Performance**: Optimization, caching, database tuning
  - **User Experience**: UI improvements, accessibility enhancements
  - **Infrastructure**: Deployment, monitoring, infrastructure as code

usage_example: |
  # Complete feature development workflow:

  ## 1. Story Creation (@pm)
  "Add pagination to PNCP search results"
  â†’ Story created: docs/stories/story-3.5-pagination.md
  â†’ Acceptance criteria defined
  â†’ Complexity estimated

  ## 2. Architecture Review (@architect)
  "*analyze-impact"
  â†’ Impact analysis: affects pncp_client.py, frontend pagination
  â†’ Database implications: caching strategy
  â†’ API contract changes documented

  ## 3. Backend Implementation (@dev)
  "*develop backend"
  â†’ Implement pagination in pncp_client.py
  â†’ Add limit/offset parameters
  â†’ Update tests

  ## 4. Frontend Implementation (@dev)
  "*develop frontend"
  â†’ Create pagination component
  â†’ Update search API call
  â†’ Add loading states

  ## 5. Testing (@qa)
  "*run-tests"
  â†’ Backend: 82 tests, 96.69% coverage âœ…
  â†’ Frontend: jest tests, 60%+ coverage
  â†’ Integration tests with mock data
  â†’ Acceptance criteria validation

  ## 6. PR & Deployment (@devops)
  "*create-pr"
  â†’ PR created with full description
  â†’ Automated code review
  â†’ CI/CD pipeline: All checks pass âœ…
  â†’ Auto-merge if quality gates pass
  â†’ Deploy to production

activation_instructions: |
  To activate this squad for complete feature development:

  1. Type: `/squad-creator`
  2. Select: "Load existing squad"
  3. Choose: "team-bidiq-feature"
  4. Start story creation with: `*create-story`

timeline:
  - Story Creation: 0.5 days
  - Architecture Review: 1 day
  - Implementation: 2-3 days
  - Testing: 1 day
  - Deployment: 0.5 days
  - Total: 5-6 days per feature

success_criteria: |
  Feature is complete when:
  - Story acceptance criteria all verified âœ…
  - Backend coverage â‰¥70% âœ…
  - Frontend coverage â‰¥60% âœ…
  - All tests passing âœ…
  - Code review approved âœ…
  - Deployed to production âœ…
  - Post-deployment smoke tests pass âœ…

notes:
  - Use this squad for any story touching multiple components
  - Stories should be broken into task-sized pieces (2-4 days each)
  - Quality gates are enforced at every stage
  - Rollback plan must be documented before deployment
  - Post-deployment monitoring for 24 hours recommended
