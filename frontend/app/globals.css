@tailwind base;
@tailwind components;
@tailwind utilities;

/* Descomplicita Design System — Navy/Blue institutional palette */
:root {
  /* Canvas & Ink */
  --canvas: #ffffff;
  --ink: #1e2d3b;
  --ink-secondary: #3d5975;
  --ink-muted: #808f9f;
  --ink-faint: #c0d2e5;

  /* Brand */
  --brand-navy: #0a1e3f;
  --brand-blue: #116dff;
  --brand-blue-hover: #0d5ad4;
  --brand-blue-subtle: #e8f0ff;

  /* Surfaces */
  --surface-0: #ffffff;
  --surface-1: #f7f8fa;
  --surface-2: #f0f2f5;
  --surface-elevated: #ffffff;

  /* Semantic */
  --success: #16a34a;
  --success-subtle: #f0fdf4;
  --error: #dc2626;
  --error-subtle: #fef2f2;
  --warning: #ca8a04;
  --warning-subtle: #fefce8;

  /* Borders */
  --border: rgba(0, 0, 0, 0.08);
  --border-strong: rgba(0, 0, 0, 0.15);
  --border-accent: rgba(17, 109, 255, 0.3);

  /* Focus */
  --ring: #116dff;
}

/* Dark mode overrides */
.dark {
  --canvas: #121212;
  --ink: #e8eaed;
  --ink-secondary: #a8b4c0;
  --ink-muted: #6b7a8a;
  --ink-faint: #3a4555;

  --brand-blue-subtle: rgba(17, 109, 255, 0.12);

  --surface-0: #121212;
  --surface-1: #1a1d22;
  --surface-2: #242830;
  --surface-elevated: #1e2128;

  --success: #22c55e;
  --success-subtle: #052e16;
  --error: #f87171;
  --error-subtle: #450a0a;
  --warning: #facc15;
  --warning-subtle: #422006;

  --border: rgba(255, 255, 255, 0.08);
  --border-strong: rgba(255, 255, 255, 0.15);
  --border-accent: rgba(17, 109, 255, 0.4);

  --ring: #3b8bff;
}

body {
  color: var(--ink);
  background: var(--canvas);
  font-family: var(--font-body), sans-serif;
  font-size: clamp(14px, 1vw + 10px, 16px);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Subtle background texture — document/official aesthetic */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background-image:
    radial-gradient(circle at 20% 50%, var(--brand-blue-subtle) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, var(--brand-blue-subtle) 0%, transparent 40%);
  opacity: 0.4;
}

/* Improved focus states for accessibility */
:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
}

/* Button base styles for better touch targets */
button {
  min-height: 44px;
  cursor: pointer;
}

/* Form input improvements */
input[type="date"],
select {
  min-height: 44px;
}

/* Indeterminate progress bar animation */
@keyframes slide {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(300%); }
}

/* Staggered entrance animation */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.4s ease-out both;
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out both;
  }

  /* Stagger delays for lists */
  .stagger-1 { animation-delay: 50ms; }
  .stagger-2 { animation-delay: 100ms; }
  .stagger-3 { animation-delay: 150ms; }
  .stagger-4 { animation-delay: 200ms; }
  .stagger-5 { animation-delay: 250ms; }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ==================================
   Shepherd.js Custom Styling - BidIQ Theme
   Feature #3 - Interactive Onboarding
   ================================== */

.shepherd-modal-overlay-container {
  z-index: 9998;
}

.shepherd-element {
  z-index: 9999;
  max-width: 500px;
}

.shepherd-theme-custom {
  @apply bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700;
}

.shepherd-theme-custom .shepherd-header {
  @apply bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-t-lg;
}

.shepherd-theme-custom .shepherd-title {
  @apply text-xl font-bold font-sans;
}

.shepherd-theme-custom .shepherd-text {
  @apply px-6 py-4 text-gray-700 dark:text-gray-200 text-base leading-relaxed;
}

.shepherd-theme-custom .shepherd-text p {
  @apply mb-3 last:mb-0;
}

.shepherd-theme-custom .shepherd-text ul {
  @apply space-y-2 text-sm;
}

.shepherd-theme-custom .shepherd-text ul li {
  @apply text-gray-600 dark:text-gray-300;
}

.shepherd-theme-custom .shepherd-footer {
  @apply px-6 py-4 bg-gray-50 dark:bg-gray-900 rounded-b-lg border-t border-gray-200 dark:border-gray-700 flex justify-between items-center gap-3;
}

.shepherd-theme-custom .shepherd-button {
  @apply px-5 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
}

.shepherd-theme-custom .shepherd-button-primary {
  @apply bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500;
}

.shepherd-theme-custom .shepherd-button-secondary {
  @apply bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-gray-500;
}

.shepherd-theme-custom .shepherd-cancel-icon {
  @apply text-white hover:text-gray-200 transition-colors;
}

/* Arrow styling */
.shepherd-theme-custom .shepherd-arrow {
  @apply hidden;
}

/* Animation for shepherd elements */
.shepherd-element {
  animation: shepherdFadeIn 0.3s ease-out;
}

@keyframes shepherdFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Dark mode modal overlay */
.shepherd-modal-overlay-container.shepherd-modal-is-visible {
  @apply bg-black/60;
}

/* Highlight target element */
.shepherd-target {
  @apply ring-4 ring-blue-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900 transition-all duration-300;
}

/* Progress indicator in footer */
.shepherd-progress {
  @apply flex items-center gap-1.5;
}

.shepherd-progress-dot {
  @apply w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600 transition-all duration-200;
}

.shepherd-progress-dot.active {
  @apply bg-blue-600 w-3 h-3;
}

.shepherd-progress-dot.completed {
  @apply bg-blue-400;
}
